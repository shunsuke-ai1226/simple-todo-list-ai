# Google Client ID 取得・設定 完全ガイド

Google ToDo (Tasks) と同期機能を使うための「Google Client ID」を取得する手順です。
Google Cloud Consoleという開発者向けの画面を使いますが、手順通りに進めれば5分ほどで完了します。

---

## 1. Google Cloud プロジェクトの作成

1.  [Google Cloud Console](https://console.cloud.google.com/) にアクセスします（Googleアカウントでログインしてください）。
2.  画面左上のロゴの横にある「**プロジェクトの選択**」（または現在のプロジェクト名）をクリックします。
3.  右上の「**新しいプロジェクト**」をクリックします。
4.  **プロジェクト名**に好きな名前（例: `My ToDo App`）を入力します。
5.  「**作成**」をクリックします。
    *   ※ 作成完了まで数秒〜数十秒かかります。右上の通知ベルアイコン🔔で完了を確認し、「**プロジェクトを選択**」をクリックしてください。

---

## 2. Google Tasks API の有効化

1.  左上のハンバーガーメニュー（≡）をクリックし、「**API とサービス**」 > 「**ライブラリ**」を選択します。
2.  中央の検索バーに「**Tasks**」と入力してEnterキーを押します。
3.  検索結果から「**Google Tasks API**」をクリックします。
4.  「**有効にする**」ボタンをクリックします。

---

## 3. OAuth 同意画面の設定

APIキーではなく、ユーザーのGoogleアカウントでログインする仕組み（OAuth）を使うため、同意画面の設定が必要です。

1.  左メニューの「**OAuth 同意画面**」をクリックします。
2.  **User Type**（ユーザーの種類）で「**外部**」を選択し、「**作成**」をクリックします。
3.  **アプリ情報**を入力します：
    *   **アプリ名**: `Simple ToDo`（自分がわかれば何でもOK）
    *   **ユーザーサポートメール**: 自分のメールアドレスを選択
    *   **デベロッパーの連絡先情報**: 自分のメールアドレスを入力
    *   一番下の「**保存して次へ**」をクリック。
4.  **スコープ**画面：
    *   何も変更せず、一番下の「**保存して次へ**」をクリック。
5.  **テストユーザー**画面（**重要**）：
    *   「**+ ADD USERS**」をクリックします。
    *   **自分のGoogleメールアドレス**を入力して「**追加**」を押します。
    *   ※ これを忘れると「アクセスがブロックされました（403エラー）」になります。
    *   「**保存して次へ**」をクリック。
6.  **概要**画面：
    *   一番下の「**ダッシュボードに戻る**」をクリック。

---

## 4. クライアント ID の作成

1.  左メニューの「**認証情報**」をクリックします。
2.  画面上部の「**+ 認証情報を作成**」をクリックし、「**OAuth クライアント ID**」を選択します。
3.  **アプリケーションの種類**で「**ウェブ アプリケーション**」を選択します。
4.  **名前**: `Local Dev` など（そのままでもOK）。
5.  **承認済みの JavaScript 生成元**（**重要**）：
    *   「**URI を追加**」をクリックします。
    *   以下のURLを正確に入力してください（末尾にスラッシュ `/` を**入れない**でください）。
    *   `http://localhost:5173`
6.  「**作成**」ボタンをクリックします。

---

## 5. アプリへの設定

1.  「OAuth クライアントを作成しました」という画面が表示されます。
2.  「**クライアント ID**」の下にある文字列（例: `12345...apps.googleusercontent.com`）の横のコピーアイコンをクリックしてコピーします。
    *   ※「クライアント シークレット」は使いません。
3.  作成したToDoアプリに戻ります。
4.  右上の設定アイコン（⚙️）をクリックします。
5.  「**Google Client ID (任意)**」の欄に、コピーしたIDを貼り付けます。
6.  「**保存する**」をクリックします。

---

## 6. 動作確認

1.  アプリ右上の「**Google同期**」ボタンをクリックします。
2.  Googleのログイン画面がポップアップします。
3.  先ほど「テストユーザー」に追加したアカウントを選択します。
4.  「Simple ToDo が Google アカウントへのアクセスを求めています」という画面で「**続行**」または「**許可**」をクリックします。
    *   ※「このアプリは Google で確認されていません」と出る場合は、「**詳細**」をクリックし、「**Simple ToDo（安全ではないページ）に移動**」をクリックしてください（開発中アプリのため表示されます）。
5.  同期成功のメッセージが出れば完了です！
